<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <title>Shop In 3D – Bán hàng</title>
    <style>
        body{margin:0;font-family:Arial;background:#f4f4f4}
        header{background:#111;color:#fff;padding:15px;text-align:center}
        .container{max-width:1100px;margin:auto;padding:20px}
        .product{display:grid;grid-template-columns:1fr 1fr;gap:20px;background:#fff;padding:20px;border-radius:10px}
        .product img{width:100%;border-radius:10px}
        .price{color:#e74c3c;font-size:24px;font-weight:bold}
        select,input,button{padding:10px;margin-top:10px;width:100%}
        button{background:#27ae60;color:#fff;border:none;border-radius:6px;font-size:16px;cursor:pointer}
        button:hover{background:#219150}
        .cart{margin-top:30px;background:#fff;padding:20px;border-radius:10px}
        .cart-item{display:flex;justify-content:space-between;margin:8px 0}
        .total{font-weight:bold;font-size:18px;margin-top:10px}
    </style>
</head>
<body>
<header>
    <h1>SHOP IN 3D</h1>
    <p>Đặt in mô hình – chọn size – chọn vật liệu</p>
</header>

<div class="container">
    <div class="product">
        <img src="kiem.jpg" alt="Kiếm 3D">
        <div>
            <h2>Mô hình kiếm</h2>
            <p>In 3D theo yêu cầu, hoàn thiện thủ công</p>

            <label>Kích thước</label>
            <select id="size" onchange="updatePrice()">
                <option value="1">30 cm</option>
                <option value="1.5">50 cm</option>
                <option value="2">80 cm</option>
            </select>

            <label>Vật liệu</label>
            <select id="material" onchange="updatePrice()">
                <option value="1">PLA</option>
                <option value="1.4">Resin</option>
            </select>

            <label>Số lượng</label>
            <input type="number" id="qty" value="1" min="1" onchange="updatePrice()">

            <div class="price" id="price"></div>
            <button onclick="addToCart()">Thêm vào giỏ</button>
        </div>
    </div>

    <div class="cart">
        <h2>Giỏ hàng</h2>
        <div id="cartItems">Chưa có sản phẩm</div>
        <div class="total">Tổng: <span id="total">0</span> đ</div>
        <button onclick="orderZalo()">Đặt hàng qua Zalo</button>
    </div>
</div>

<script>
    const BASE_PRICE = 70000;
    let cart = [];

    function updatePrice(){
        const size = document.getElementById('size').value;
        const material = document.getElementById('material').value;
        const qty = document.getElementById('qty').value;
        const price = BASE_PRICE * size * material * qty;
        document.getElementById('price').innerText = price.toLocaleString() + ' đ';
    }

    function addToCart(){
        const sizeText = document.getElementById('size').selectedOptions[0].text;
        const materialText = document.getElementById('material').selectedOptions[0].text;
        const qty = document.getElementById('qty').value;
        const priceText = document.getElementById('price').innerText;
        cart.push({sizeText,materialText,qty,priceText});
        renderCart();
    }

    function renderCart(){
        const div = document.getElementById('cartItems');
        div.innerHTML = '';
        let total = 0;
        cart.forEach(item=>{
            const p = parseInt(item.priceText.replace(/\D/g,''));
            total += p;
            div.innerHTML += `<div class='cart-item'><span>${item.sizeText} – ${item.materialText} x${item.qty}</span><span>${item.priceText}</span></div>`;
        });
        document.getElementById('total').innerText = total.toLocaleString();
    }

    function orderZalo(){
        const msg = encodeURIComponent('Tôi muốn đặt in mô hình kiếm. Tổng tiền: ' + document.getElementById('total').innerText + ' đ');
        window.open('https://zalo.me','_blank');
    }

    updatePrice();
</script>
</body>
</html>